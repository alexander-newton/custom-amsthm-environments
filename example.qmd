---
title: Custom AmSTHm Environments
format:
  pdf:
    keep-tex: true
number-sections: true
custom-amsthm:
  - key: prm
    name: Problem
    # reference-prefix and latex-name are automatically derived from name
  - key: clm
    name: Claim
    numbering-style: global  # Example of global numbering
  - key: obs
    name: Observation
    # numbering-style: section (default)
  - key: nota
    name: Notation
    numbered: false
filters:
  - custom-amsthm-environments
---

# Introduction 

This extension allows you to define custom theorem-like environments that work with both HTML and LaTeX output.

## Configuration

Each custom environment requires:

- `key`: Short identifier used in div IDs (e.g., `prm` for `#prm-problem1`)
- `name`: Display name of the environment (e.g., "Problem")

Optional fields (automatically derived if not specified):

- `reference-prefix`: Text used in cross-references (defaults to `name`)
- `latex-name`: LaTeX environment name (defaults to lowercase `name`)
- `numbered`: Whether to number the environment (defaults to `true`)
- `numbering-style`: How to number in LaTeX (defaults to `"section"`)

# Basic Usage

## Numbering Styles

The extension supports two numbering styles for LaTeX output:

- `section` (default): Numbers within sections like "Problem 1.1", matching Quarto's built-in theorem style
- `global`: Simple global numbering like "Claim 1", "Claim 2", etc.

Note: HTML output always uses simple sequential numbering regardless of the numbering style setting.

Here's a simple problem without a title:

::: {#prm-problem1}
Show that $2 + 2 = 4$.
:::

And here's how you reference it: See @prm-problem1.

## Problems with Titles

You can also add titles to your environments using the `## Title` syntax:

::: {#prm-problem2}
## Arithmetic Challenge

Prove that $1 + 1 = 2$ using Peano axioms.
:::

Reference: In @prm-problem2, we explore fundamental arithmetic.

## Other Custom Environments

Here's a claim:

::: {#clm-main-claim}
All swams are black.
:::

An observation with a title:

::: {#obs-key-observation}
## Empirical Finding

We observed that 95% of the tested samples showed the expected behavior.
:::

And some notation (unnumbered):

::: {#nota-basic}
Let $\mathbb{N}$ denote the set of natural numbers.
:::

## Cross-References

You can reference these environments just like you would reference figures or equations:

- @prm-problem1 asks a basic question
- @prm-problem2 is more challenging
- @clm-main-claim is our main assertion
- @obs-key-observation supports our hypothesis

## Traditional AmSThm Environments

The extension coexists with Quarto's built-in amsthm support:

::: {#thm-pythagoras}
## Pythagorean Theorem

In a right triangle with legs of length $a$ and $b$ and hypotenuse of length $c$, we have $a^2 + b^2 = c^2$.
:::

See @thm-pythagoras for the classic result.


