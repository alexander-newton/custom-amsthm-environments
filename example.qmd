---
title: Custom AmSThm Environments - Complete Guide
format:
  pdf:
    keep-tex: true
  html: default
number-sections: true
custom-amsthm:
  - key: prm
    name: Problem
  - key: axm
    name: Axiom
  - key: clm
    name: Claim
  - key: obs
    name: Observation
  - key: nota
    name: Notation
    numbered: false
filters:
  - custom-amsthm-environments
---

# Introduction

This document demonstrates all features of the custom-amsthm-environments extension.

## What This Extension Does

- Defines custom theorem-like environments (Problem, Claim, Axiom, etc.)
- **Continuous numbering**: All custom environments share the same counter
- Works with both HTML and LaTeX output
- Supports override numbers for special cases
- Compatible with Quarto's built-in theorem types

# Feature 1: Continuous Numbering

The key feature is that **all custom environments share the same counter**:

::: {#prm-first}
This is Problem 1.
:::

::: {#axm-first}
This is Axiom 2 (continuing from Problem 1).
:::

::: {#clm-first}
This is Claim 3 (still continuous).
:::

::: {#obs-first}
This is Observation 4 (continuous numbering across all types).
:::

**Notice**: Problem 1, Axiom 2, Claim 3, Observation 4 - all sequential!

# Feature 2: Custom Titles

Add optional titles using level-2 headers:

::: {#prm-titled}
## The Goldbach Conjecture
Every even integer greater than 2 can be expressed as the sum of two primes.
:::

::: {#axm-titled}
## Axiom of Choice
Every set has a choice function.
:::

# Feature 3: Override Numbers

Use custom numbers that don't consume sequential numbering:

::: {#prm-after-title}
This is Problem 7 (sequential continues).
:::

::: {#axm-special number="A1"}
## Foundational Axiom
This uses override number A1 (doesn't consume sequential numbers).
:::

::: {#prm-after-override}
This is Problem 8 (continues from 7, skipping the override!).
:::

::: {#axm-another number="A2"}
Another axiom with custom number A2.
:::

**Notice**: The override numbers (A1, A2) don't interrupt the sequential numbering (7, 8).

# Feature 4: Override with Custom Names

You can use text instead of numbers:

::: {#axm-choice number="Axiom of Choice"}
For any set $X$ of nonempty sets, there exists a choice function $f: X \to \bigcup X$.
:::

::: {#axm-zorn number="Zorn's Lemma"}
Every partially ordered set in which every chain has an upper bound contains at least one maximal element.
:::

# Feature 5: Unnumbered Environments

Some environments don't need numbers:

::: {#nota-symbols}
Let $\mathbb{N}$, $\mathbb{Z}$, $\mathbb{Q}$, $\mathbb{R}$, and $\mathbb{C}$ denote the natural numbers, integers, rationals, reals, and complex numbers respectively.
:::

::: {#nota-notation}
We write $f: A \to B$ to denote a function from set $A$ to set $B$.
:::

**Notice**: Notation environments don't show numbers.

# Feature 6: Mixing with Built-in Types

The extension works alongside Quarto's built-in theorem types:

::: {#thm-pythagoras}
## Pythagorean Theorem
In a right triangle with legs $a$, $b$ and hypotenuse $c$: $a^2 + b^2 = c^2$.
:::

::: {#prm-verify}
Verify the Pythagorean theorem for a 3-4-5 triangle.
:::

::: {#def-triangle}
A **right triangle** is a triangle with one 90-degree angle.
:::

**PDF Output**: Theorem 1.1, Problem 1.2, Definition 1.3 (all continuous!)

**HTML Output**: Theorem 1, Problem 12, Definition 1 (built-ins have separate counters)

# Feature 7: Cross-References

Reference environments using their IDs:

- See @prm-first for the first problem
- @axm-titled states the Axiom of Choice
- @thm-pythagoras is a classic theorem
- @prm-verify asks you to verify something

**Note**: Cross-reference support is limited for custom types in HTML.

# Complete Numbering Example

Let's see all the numbering in action:

::: {#prm-seq1}
Problem 13 (sequential).
:::

::: {#axm-seq1}
Axiom 14 (continues).
:::

::: {#clm-seq1}
Claim 15 (continues).
:::

::: {#axm-override1 number="B1"}
Axiom B1 (override - doesn't consume).
:::

::: {#obs-seq1}
Observation 16 (continues from 15).
:::

::: {#nota-skip}
Notation (unnumbered - doesn't consume).
:::

::: {#prm-seq2}
Problem 17 (continues from 16).
:::

**Final sequence**: 13, 14, 15, B1 (override), 16, (unnumbered), 17

# Configuration Options

## Required Fields

- `key`: Short identifier (e.g., `prm`)
- `name`: Display name (e.g., "Problem")

## Optional Fields

- `numbered`: `true` (default) or `false`
- `reference-prefix`: Text for cross-references (defaults to `name`)
- `latex-name`: LaTeX environment name (defaults to lowercase `name`)

## Example Configuration

```yaml
custom-amsthm:
  - key: prm
    name: Problem
    # numbered: true (default)

  - key: nota
    name: Notation
    numbered: false

  - key: obs
    name: Observation
    latex-name: observ
```

# Summary

This extension provides:

1. ✅ **Continuous numbering** across all custom environment types
2. ✅ **Override numbers** (A1, B2, "Axiom of Choice")
3. ✅ **Custom titles** using `## Title` syntax
4. ✅ **Unnumbered environments** with `numbered: false`
5. ✅ **HTML and PDF support** with appropriate rendering
6. ✅ **Built-in compatibility** works alongside Quarto's theorem types

For more examples, see the `tests/features/` directory in the repository.
